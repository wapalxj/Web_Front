<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>getElementsByClassName</title>
</head>
<body>
<div id="example">
    <p id="p1" class="aaa bbb">p1</p>
    <p id="p2" class="aaa ccc">p2</p>
    <p id="p3" class="bbb ccc">p3</p>
</div>
<script>
    function getElementsByClassName(element, names) {
        if (element.getElementsByClassName) {
            return element.getElementsByClassName(names);
        } else {
            var elements = element.getElementsByTagName('*');
            var result = [];
            var element,
                classNameStr,
                flag;
            names = names.split(' ');
            for (var i = 0; element = elements[i]; i++) {
                classNameStr = ' ' + element.className + ' ';
                flag = true;
                for (var j = 0, name; name = names[j]; j++) {
                    if (classNameStr.indexOf(' ' + name + '') == -1) {
                        flag = false;
                        break;
                    }
                }
                if (flag) {
                    result.push(element);
                }
            }
            return result;
        }
    }

    var aaa = getElementsByClassName(document, 'aaa');
    alert(aaa[0].textContent);
    alert(aaa[1].textContent);

    var bbb_ccc = getElementsByClassName(document, 'bbb ccc');
    alert(bbb_ccc[0].textContent);

    var ccc_bbb = getElementsByClassName(document, 'ccc bbb');
    alert(ccc_bbb[0].textContent);
</script>
</body>
</html>